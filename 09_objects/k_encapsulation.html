<!--
SPDX-License-Identifier: GPL-3.0-or-later
Copyright (C) 2025 Manuel Regamey
This file is part of SluInk. See the LICENSE file or <https://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="fr"  data-theme="">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mini-JS  k_encapsulation</title>
        <meta name="description" content="L’encapsulation consiste à
regrouper les données et les comportements qui leur sont liés dans une
même entité, tout en contrôlant l’accès à certains éléments internes. En
JavaScript, elle s’exprime par la gestion des propriétés publiques et
privées." />
  <!-- Boot-script: applique le thème choisi avant de charger la CSS -->
  <script>
    (function () {
      var key = 'SluInk-theme';
      try {
        var saved = localStorage.getItem(key);
        var t = (saved === 'light' || saved === 'dark')
          ? saved
          : (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        document.documentElement.dataset.theme = t;
        document.documentElement.style.colorScheme = t; // scrollbars/UI natifs
      } catch (e) { }
    })();
  </script>

    <link rel="stylesheet" href="../assets/style.css" />
  
    <style type="text/css">
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
    
    <script src="../assets/script.js" defer></script>
  </head>

<body>

  <header class="site">
    <div class="brand">
      <a href="../index.html">
        Mini-JS
      </a>
    </div>

    <nav class="topnav">
            <a class="nav-prev" href="j_polymorphism.html">j_polymorphism</a>
            <a class="nav-home" href="../index.html">Accueil</a>
            <a class="nav-next" href="l_exercices.html">l_Exercices</a>
          </nav>

    <div class="theme-buttons" role="group" aria-label="Thème" style="display:flex; gap:.5rem;">
      <button class="button icon-btn" data-theme-set="light" aria-label="Clair" title="Clair">
        <img src="../assets/sun-regular-full.svg" alt="sun" width="20" height="20" />
      </button>
      <button class="button icon-btn" data-theme-set="dark" aria-label="Sombre" title="Sombre">
        <img src="../assets/moon-regular-full.svg" alt="moon" width="20" height="20" />
      </button>
      <button class="button icon-btn" data-theme-set="academic" aria-label="Academic" title="Academic">
        <img src="../assets/file-regular-full.svg" alt="file" width="20" height="20" />
      </button>
    </div>


  </header>

  <div class="layout">
    <aside class="sidebar">
            <nav aria-label="Sommaire">
        <ul>
        <li><a href="#lencapsulation"
        id="toc-lencapsulation">L’encapsulation</a>
        <ul>
        <li><a href="#à-retenir" id="toc-à-retenir">À retenir</a></li>
        </ul></li>
        </ul>
      </nav>
          </aside>

    <main class="content" id="content">
      <h1 class="title">Mini-JS k_encapsulation</h1>
      
      
      
      <h1 id="lencapsulation">L’encapsulation</h1>
      <p>L’encapsulation est l’un des grands principes de la
      programmation orientée objet. Elle consiste à protéger l’intégrité
      d’un objet en rendant certaines de ses données inaccessibles
      directement depuis l’extérieur. L’idée est simple : un objet doit
      exposer uniquement ce qui est nécessaire à son utilisation, tout
      en dissimulant les détails internes qui ne concernent pas le reste
      du programme.</p>
      <p>En JavaScript, les objets et les classes permettent de mettre
      en œuvre ce principe. Les propriétés et les méthodes que l’on
      définit dans une classe sont, par défaut, accessibles depuis
      l’extérieur. Toutefois, depuis les versions récentes du langage,
      il est possible de créer des champs véritablement privés en les
      déclarant avec le préfixe <code>#</code>.</p>
      <p>Prenons un exemple avec une classe qui gère un compte bancaire
      :</p>
      <div class="sourceCode" id="cb1"><pre
      class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> BankAccount {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  #balance<span class="op">;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">constructor</span>(initialBalance) {</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span>#<span class="at">balance</span> <span class="op">=</span> initialBalance<span class="op">;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">deposit</span>(amount) {</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span>#<span class="at">balance</span> <span class="op">+=</span> amount<span class="op">;</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">withdraw</span>(amount) {</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (amount <span class="op">&lt;=</span> <span class="kw">this</span><span class="op">.</span>#<span class="at">balance</span>) {</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>      <span class="kw">this</span><span class="op">.</span>#<span class="at">balance</span> <span class="op">-=</span> amount<span class="op">;</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>      <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&quot;Fonds insuffisants&quot;</span>)<span class="op">;</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">getBalance</span>() {</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="kw">this</span><span class="op">.</span>#<span class="at">balance</span><span class="op">;</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> account <span class="op">=</span> <span class="kw">new</span> <span class="fu">BankAccount</span>(<span class="dv">100</span>)<span class="op">;</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>account<span class="op">.</span><span class="fu">deposit</span>(<span class="dv">50</span>)<span class="op">;</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(account<span class="op">.</span><span class="fu">getBalance</span>())<span class="op">;</span> <span class="co">// 150</span></span></code></pre></div>
      <p>Ici, la propriété <code>#balance</code> est privée. Elle ne
      peut pas être consultée ou modifiée directement depuis l’extérieur
      de la classe. On est obligé de passer par les méthodes
      <code>deposit</code>, <code>withdraw</code> ou
      <code>getBalance</code>. Cela garantit que l’état du compte reste
      cohérent et qu’il ne peut pas être altéré de manière
      imprévisible.</p>
      <p>Avant l’introduction de cette syntaxe, les développeurs avaient
      recours à des conventions (comme préfixer une propriété par
      <code>_</code>) ou à des fermetures (<em>closures</em>) pour
      simuler un accès privé. Ces techniques restent valides, mais
      l’utilisation des champs privés rend aujourd’hui l’encapsulation
      plus claire et plus naturelle.</p>
      <p>L’encapsulation permet donc de séparer ce qui relève de
      l’interface publique d’un objet (ce que les autres parties du
      programme sont censées utiliser) et ce qui relève de son
      implémentation interne (qui doit rester dissimulée). Cette
      séparation rend le code plus sûr, plus robuste et plus facile à
      maintenir.</p>
      <hr />
      <h2 id="à-retenir">À retenir</h2>
      <p>L’encapsulation regroupe les données et les comportements dans
      une même entité tout en protégeant l’accès à certains éléments
      internes. En JavaScript, elle s’exprime aujourd’hui à travers les
      champs privés (<code>#propriété</code>) et les méthodes publiques.
      Ce principe permet de contrôler la manière dont un objet est
      utilisé et d’éviter des modifications non souhaitées de son état
      interne.</p>
      <hr />
      <p>⬅️ <a href="./j_polymorphism.html">Chapitre précédent : Le
      polymorphisme</a></p>
      <p>➡️ <a href="./l_exercices.html">Chapitre suivant :
      Exercices</a></p>
    </main>
  </div>

  <footer class="site">
    © Manuel Regamey 2025 Mini-JS Généré avec [SluInk]
  </footer>

  </body>

</html>
